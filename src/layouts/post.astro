---
import Head from '../components/Head.astro';
import Nav from '../components/Nav.astro';
import CenteredLayout from '../components/CenteredLayout.astro';
import { env } from '../environment';

const { title } = env;
const { content } = Astro.props;
---

<!DOCTYPE html>
<html lang="en">
  <head>
    <title>{content.title} - {title}</title>
    <Head 
      title={content.title} 
      description={content.description} 
      image={content.image} 
      canonicalURL={Astro.request.canonicalURL.href} 
    />
    <style lang="scss">
      #grid-main {
        margin: var(--doc-padding) var(--gutter);
        display: flex;
        flex-direction: column;
        align-items: center;
        height: 100%;
        max-width: var(--max-width);
      }
      .heading {
        margin-bottom: var(--doc-padding);
      }
      .cover {
        aspect-ratio: 16 / 9;
        width: 100%;
        max-height: 400px;
        background-color: var(--theme-text-lighter);
        object-fit: cover;
      }
      .footer .nav {
        flex: 1;
        display: flex;
        max-width: var(--max-width);
        text-transform: uppercase;
        justify-content: center;
      }
    </style>
  </head>


  <body>
    <Nav />

    <CenteredLayout>
      <div id="grid-main">
        <section class="heading">
          <h1 class="title">{content.title}</h1>
          <img class="img cover round" src={content.cover} alt={content.title}>
          <p class="description">{content.description}</p>
        </section>
        <article class="article">
          <slot/>
        </article>
      </div>
    </CenteredLayout>

    <footer class="footer flex justify-center">
      <nav class="nav">
        <a class="posts" href="/">All Posts</a>
      </nav>
    </footer>
  </body>
</html>
